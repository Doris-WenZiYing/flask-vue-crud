{"remainingRequest":"/Users/doris/Desktop/flask-vue-crud/client/node_modules/babel-loader/lib/index.js!/Users/doris/Desktop/flask-vue-crud/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/doris/Desktop/flask-vue-crud/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/doris/Desktop/flask-vue-crud/client/src/components/Books.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/doris/Desktop/flask-vue-crud/client/src/components/Books.vue","mtime":1667187794303},{"path":"/Users/doris/Desktop/flask-vue-crud/client/babel.config.js","mtime":1667045355375},{"path":"/Users/doris/Desktop/flask-vue-crud/client/node_modules/cache-loader/dist/cjs.js","mtime":1667045315866},{"path":"/Users/doris/Desktop/flask-vue-crud/client/node_modules/babel-loader/lib/index.js","mtime":1667045314425},{"path":"/Users/doris/Desktop/flask-vue-crud/client/node_modules/cache-loader/dist/cjs.js","mtime":1667045315866},{"path":"/Users/doris/Desktop/flask-vue-crud/client/node_modules/vue-loader/lib/index.js","mtime":1667045315378}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IHsgQkJ1dHRvbiwgQkJ1dHRvbkdyb3VwLCBCRm9ybSwgQkZvcm1Hcm91cCwgQk1vZGFsLCBCRm9ybUNoZWNrYm94LCBCRm9ybUNoZWNrYm94R3JvdXAgfSBmcm9tICdib290c3RyYXAtdnVlJzsKaW1wb3J0IEFsZXJ0IGZyb20gJy4vQWxlcnQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rczogW10sCiAgICAgIGFkZEJvb2tGb3JtOiB7CiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGF1dGhvcjogJycsCiAgICAgICAgcmVhZDogW10KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEJvb2tzKCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9ib29rcyc7CiAgICAgIGF4aW9zLmdldChwYXRoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5ib29rcyA9IHJlcy5kYXRhLmJvb2tzOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEJvb2socGF5bG9hZCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9ib29rcyc7CiAgICAgIGF4aW9zLnBvc3QocGF0aCwgcGF5bG9hZCkudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy5nZXRCb29rcygpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIHRoaXMuZ2V0Qm9va3MoKTsKICAgICAgfSk7CiAgICB9LAogICAgaW5pdEZvcm0oKSB7CiAgICAgIHRoaXMuYWRkQm9va0Zvcm0udGl0bGUgPSAnJzsKICAgICAgdGhpcy5hZGRCb29rRm9ybS5hdXRob3IgPSAnJzsKICAgICAgdGhpcy5hZGRCb29rRm9ybS5yZWFkID0gW107CiAgICB9LAogICAgb25TdWJtaXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLmFkZEJvb2tNb2RhbC5oaWRlKCk7CiAgICAgIGxldCByZWFkID0gZmFsc2U7CiAgICAgIGlmICh0aGlzLmFkZEJvb2tGb3JtLnJlYWRbMF0pIHJlYWQgPSB0cnVlOwogICAgICBjb25zdCBwYXlsb2FkID0gewogICAgICAgIHRpdGxlOiB0aGlzLmFkZEJvb2tGb3JtLnRpdGxlLAogICAgICAgIGF1dGhvcjogdGhpcy5hZGRCb29rRm9ybS5hdXRob3IsCiAgICAgICAgcmVhZCAvLyBwcm9wZXJ0eSBzaG9ydGhhbmQKICAgICAgfTsKCiAgICAgIHRoaXMuYWRkQm9vayhwYXlsb2FkKTsKICAgICAgdGhpcy5pbml0Rm9ybSgpOwogICAgfSwKICAgIG9uUmVzZXQoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLiRyZWZzLmFkZEJvb2tNb2RhbC5oaWRlKCk7CiAgICAgIHRoaXMuaW5pdEZvcm0oKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEJvb2tzKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBBbGVydCwKICAgIEJCdXR0b24sCiAgICBCQnV0dG9uR3JvdXAsCiAgICBCRm9ybSwKICAgIEJGb3JtR3JvdXAsCiAgICBCRm9ybUNoZWNrYm94LAogICAgQkZvcm1DaGVja2JveEdyb3VwLAogICAgQk1vZGFsCiAgfQp9Ow=="},{"version":3,"mappings":"AA2EA;AACA,SACAA,2FACA;AACA;AAEA;EACAC;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACAC,MACAC,UACAC;QACA;MACA,GACAC;QACA;QACAC;MACA;IACA;IACAC;MACA;MACAL,MACAM,oBACAJ;QACA;MACA,GACAC;QACA;QACAC;QACA;MACA;IACA;IACAG;MACA;MACA;MACA;IACA;IACAC;MACAC;MACA;MACA;MACA;MACA;QACAd;QACAC;QACAC;MACA;;MACA;MACA;IACA;IACAa;MACAD;MACA;MACA;IACA;EACA;EACAE;IACA;EACA;EACAC;IACAC;IACAtB;IACAuB;IACAC;IACAC;IACAC;IACAC;IACAC;EACA;AACA","names":["BButton","data","books","addBookForm","title","author","read","methods","getBooks","axios","get","then","catch","console","addBook","post","initForm","onSubmit","evt","onReset","created","components","Alert","BButtonGroup","BForm","BFormGroup","BFormCheckbox","BFormCheckboxGroup","BModal"],"sourceRoot":"src/components","sources":["Books.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-10\">\n        <h1>Books</h1>\n        <hr />\n        <br /><br />\n        <alert></alert>\n        <button type=\"button\" class=\"btn btn-success btn-sm\" v-b-modal.book-modal>Add Book</button>\n        <br /><br />\n        <table class=\"table table-hover\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Author</th>\n              <th scope=\"col\">Read?</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(book, index) in books\" :key=\"index\">\n              <td>{{ book.title }}</td>\n              <td>{{ book.author }}</td>\n              <td>\n                <span v-if=\"book.read\">Yes</span>\n                <span v-else>No</span>\n              </td>\n              <td>\n                <div class=\"btn-group\" role=\"group\">\n                  <button type=\"button\" class=\"btn btn-warning btn-sm\">Update</button>\n                  <button type=\"button\" class=\"btn btn-danger btn-sm\">Delete</button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n    <b-modal ref=\"addBookModal\" id=\"book-modal\" title=\"Add a new book\" hide-footer>\n      <b-form @submit=\"onSubmit\" @reset=\"onReset\" class=\"w-100\">\n        <b-form-group id=\"form-title-group\" label=\"Title:\" label-for=\"form-title-input\">\n          <b-form-input\n            id=\"form-title-input\"\n            type=\"text\"\n            v-model=\"addBookForm.title\"\n            required\n            placeholder=\"Enter title\"\n          >\n          </b-form-input>\n        </b-form-group>\n        <b-form-group id=\"form-author-group\" label=\"Author:\" label-for=\"form-author-input\">\n          <b-form-input\n            id=\"form-author-input\"\n            type=\"text\"\n            v-model=\"addBookForm.author\"\n            required\n            placeholder=\"Enter author\"\n          >\n          </b-form-input>\n        </b-form-group>\n        <b-form-group id=\"form-read-group\">\n          <b-form-checkbox-group v-model=\"addBookForm.read\" id=\"form-checks\">\n            <b-form-checkbox value=\"true\">Read?</b-form-checkbox>\n          </b-form-checkbox-group>\n        </b-form-group>\n        <b-button-group>\n          <b-button type=\"submit\" variant=\"primary\">Submit</b-button>\n          <b-button type=\"reset\" variant=\"danger\">Reset</b-button>\n        </b-button-group>\n      </b-form>\n    </b-modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport {\n  BButton, BButtonGroup, BForm, BFormGroup, BModal, BFormCheckbox, BFormCheckboxGroup,\n} from 'bootstrap-vue';\nimport Alert from './Alert.vue';\n\nexport default {\n  data() {\n    return {\n      books: [],\n      addBookForm: {\n        title: '',\n        author: '',\n        read: [],\n      },\n    };\n  },\n  methods: {\n    getBooks() {\n      const path = 'http://127.0.0.1:5000/books';\n      axios\n        .get(path)\n        .then((res) => {\n          this.books = res.data.books;\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.error(error);\n        });\n    },\n    addBook(payload) {\n      const path = 'http://127.0.0.1:5000/books';\n      axios\n        .post(path, payload)\n        .then(() => {\n          this.getBooks();\n        })\n        .catch((error) => {\n          // eslint-disable-next-line\n          console.log(error);\n          this.getBooks();\n        });\n    },\n    initForm() {\n      this.addBookForm.title = '';\n      this.addBookForm.author = '';\n      this.addBookForm.read = [];\n    },\n    onSubmit(evt) {\n      evt.preventDefault();\n      this.$refs.addBookModal.hide();\n      let read = false;\n      if (this.addBookForm.read[0]) read = true;\n      const payload = {\n        title: this.addBookForm.title,\n        author: this.addBookForm.author,\n        read, // property shorthand\n      };\n      this.addBook(payload);\n      this.initForm();\n    },\n    onReset(evt) {\n      evt.preventDefault();\n      this.$refs.addBookModal.hide();\n      this.initForm();\n    },\n  },\n  created() {\n    this.getBooks();\n  },\n  components: {\n    Alert,\n    BButton,\n    BButtonGroup,\n    BForm,\n    BFormGroup,\n    BFormCheckbox,\n    BFormCheckboxGroup,\n    BModal,\n  },\n};\n</script>\n"]}]}